<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="project.gasnow.jido.model.mapper.jidoMapper">
    <insert id="insertStationList" parameterType="java.util.List">
        INSERT INTO gas_station ( GS_ID, X_COORD, Y_COORD, BRAND_CODE, STATION_NAME, ADDRESS, PHONE
        ) VALUES
        <foreach collection="list" item="station" separator=",">
            (
            #{station.GS_ID},
            #{station.X_COORD},
            #{station.Y_COORD},
            #{station.BRAND_CODE},
            #{station.STATION_NAME},
            #{station.ADDRESS},
            #{station.PHONE}
            )
        </foreach>
        ON DUPLICATE KEY UPDATE
        X_COORD = VALUES(X_COORD),
        Y_COORD = VALUES(Y_COORD),
        BRAND_CODE = VALUES(BRAND_CODE),
        STATION_NAME = VALUES(STATION_NAME),
        ADDRESS = VALUES(ADDRESS),
        PHONE = VALUES(PHONE)
    </insert>
    <insert id="insertOrUpdateStation" parameterType="project.gasnow.jido.model.dto.jido">
    INSERT INTO gas_station ( GS_ID, X_COORD, Y_COORD, BRAND_CODE, STATION_NAME, ADDRESS, PHONE)
        VALUES ( #{GS_ID},
                 #{X_COORD},
                 #{Y_COORD},
                 #{BRAND_CODE},
                 #{STATION_NAME},
                 #{ADDRESS},
                 #{PHONE})
                ON DUPLICATE KEY UPDATE
                    X_COORD = #{X_COORD},
                    Y_COORD = #{Y_COORD},
                    BRAND_CODE = #{BRAND_CODE},
                    STATION_NAME = #{STATION_NAME},
                    ADDRESS = #{ADDRESS},
                    PHONE = #{PHONE}
    </insert>
    <select id="selectAllStations" resultType="project.gasnow.jido.model.dto.jido">
        SELECT GS_ID, X_COORD, Y_COORD, BRAND_CODE, STATION_NAME, ADDRESS, PHONE
        FROM gas_station
    </select>
    <select id="selectStationById" parameterType="string" resultType="project.gasnow.jido.model.dto.jido">
    SELECT  GS_ID, X_COORD, Y_COORD, BRAND_CODE, STATION_NAME, ADDRESS, PHONE
    FROM gas_station
    WHERE GS_ID = #{gsId}
    </select>
</mapper>